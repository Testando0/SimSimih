<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Generator - Operação Real</title>
    <style>
        body { background: #050505; color: #00ff88; font-family: 'Courier New', monospace; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .terminal { background: #111; border: 1px solid #00ff88; padding: 25px; border-radius: 5px; box-shadow: 0 0 20px rgba(0, 255, 136, 0.2); width: 90%; max-width: 500px; }
        input { width: 100%; padding: 12px; background: #000; border: 1px solid #00ff88; color: #00ff88; margin-bottom: 15px; box-sizing: border-box; outline: none; }
        button { width: 100%; padding: 12px; background: #00ff88; color: #000; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        button:hover { background: #00cc6e; }
        #status { margin: 15px 0; font-size: 0.8rem; height: 1.2rem; }
        #result { width: 100%; margin-top: 15px; min-height: 200px; display: flex; align-items: center; justify-content: center; border: 1px dashed #333; }
        img { max-width: 100%; border-radius: 4px; }
    </style>
</head>
<body>

<div class="terminal">
    <div style="margin-bottom: 10px;">> AI_IMAGE_GENERATOR_V3</div>
    <input type="text" id="prompt" placeholder="Digite o comando (prompt)...">
    <button onclick="gerar()">Executar Geração</button>
    <div id="status"></div>
    <div id="result">AGUARDANDO COMANDO...</div>
</div>

<script>
    async function gerar() {
        const prompt = document.getElementById('prompt').value;
        const result = document.getElementById('result');
        const status = document.getElementById('status');

        if (!prompt) return;

        status.innerText = "> ACESSANDO GPU EXTERNA...";
        result.innerHTML = "";

        try {
            // Usando ShuttleAI com modelo FLUX (Mais estável que Hugging Face)
            const response = await fetch("https://api.shuttleai.app/v1/images/generations", {
                method: "POST",
                headers: {
                    "Authorization": "Bearer sh-60292211425146979603f26049", // Chave pública de teste
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    model: "shuttle-flux-schnell",
                    prompt: prompt,
                    n: 1,
                    size: "1024x1024"
                })
            });

            const data = await response.json();

            if (!response.ok) throw new Error(data.error?.message || "Erro de Conexão");

            const imageUrl = data.data[0].url;
            status.innerText = "> IMAGEM RECEBIDA COM SUCESSO.";
            result.innerHTML = `<img src="${imageUrl}">`;

        } catch (e) {
            status.innerText = "> FALHA CRÍTICA.";
            result.innerHTML = `<span style="color: #ff4444;">ERRO: ${e.message}</span>`;
        }
    }
</script>

</body>
</html>
